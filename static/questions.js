// All questions data combined in one file for GitHub Pages
const allQuestions = {
    "Python": [
        {
            "question": "The keyword 'pass' in Python is used when a statement is required syntactically but you do not want any command or code to execute.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, 'else' can be used with a 'for' loop.",
            "correct_answer": "True"
        },
        {
            "question": "The 'print()' function in Python 2 requires parentheses.",
            "correct_answer": "False"
        },
        {
            "question": "The 'sorted()' function returns a new sorted list and does not change the original list.",
            "correct_answer": "True"
        },
        {
            "question": "Strings in Python are mutable.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, every integer is an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python supports multiple inheritance.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, indentation is used to define a block of code.",
            "correct_answer": "True"
        },
        {
            "question": "The 'is' operator in Python checks if two variables point to the same object in memory.",
            "correct_answer": "True"
        },
        {
            "question": "Python has a garbage collector for memory management.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a tuple is mutable.",
            "correct_answer": "False"
        },
        {
            "question": "The 'range()' function in Python 3 returns a list.",
            "correct_answer": "False"
        },
        {
            "question": "Python's list comprehension is slower than using a for loop.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'del' keyword to remove an item from a list.",
            "correct_answer": "True"
        },
        {
            "question": "Python's dictionaries are ordered by default in versions 3.7 and above.",
            "correct_answer": "True"
        },
        {
            "question": "The 'finally' block in a try-except statement always executes, regardless of whether an exception occurs.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'with' statement to ensure resources are properly managed.",
            "correct_answer": "True"
        },
        {
            "question": "Python's Global Interpreter Lock (GIL) allows multiple threads to execute Python bytecode simultaneously.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, the 'self' keyword is a reserved word.",
            "correct_answer": "False"
        },
        {
            "question": "Python's list slicing operation creates a new list in memory.",
            "correct_answer": "True"
        },
        {
            "question": "The 'lambda' keyword in Python is used to create anonymous functions.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use negative indices to access elements from the end of a sequence.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'None' is equivalent to null in other programming languages.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '==' operator checks if two objects have the same value, while 'is' checks if they are the same object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'enumerate()' function returns a tuple containing a count and the value from the iterable.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'yield' keyword to create a generator function.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'map()' function returns a list in Python 3.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, a class method's first parameter is always 'self'.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'filter()' function can be used to filter elements from an iterable based on a function.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the '@property' decorator to define a method that can be accessed like an attribute.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'zip()' function combines multiple iterables into a single iterable of tuples.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a module is automatically executed when imported.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'collections' module provides specialized container datatypes.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'super()' function to call methods from a parent class.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'asyncio' module is used for concurrent programming.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a variable declared inside a function is automatically global.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'datetime' module provides classes for manipulating dates and times.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'assert' statement for debugging purposes.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'os' module provides functions for interacting with the operating system.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a list can contain elements of different data types.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'json' module can be used to parse JSON data.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'break' statement can be used to exit a loop prematurely.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'continue' statement skips the rest of the current iteration and moves to the next one.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'try', 'except', 'else', and 'finally' blocks in exception handling.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'random' module can be used to generate pseudo-random numbers.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a set can contain duplicate elements.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'math' module provides mathematical functions.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'in' operator to check if an element exists in a sequence.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'requests' module is part of the standard library.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, a dictionary key must be immutable.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'sys' module provides access to some variables used or maintained by the interpreter.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'dir()' function to get a list of attributes of an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'type()' function returns the data type of an object.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'help()' function to get documentation about an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'len()' function can be used to get the length of a string, list, tuple, dictionary, or set.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a function can return multiple values.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'id()' function returns the memory address of an object.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the '*args' syntax to pass a variable number of non-keyword arguments to a function.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '**kwargs' syntax can be used to pass a variable number of keyword arguments to a function.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a class can inherit from multiple parent classes.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'isinstance()' function checks if an object is an instance of a specified class or a subclass thereof.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'issubclass()' function to check if a class is a subclass of another class.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'hasattr()' function checks if an object has a specified attribute.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'getattr()' function to get the value of an attribute of an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'setattr()' function sets the value of an attribute of an object.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can use the 'delattr()' function to delete an attribute of an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'vars()' function returns the __dict__ attribute of an object.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, a list comprehension is faster than using map() with a lambda function.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'any()' function returns True if any element of an iterable is True.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'all()' function returns True if all elements of an iterable are True.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'sum()' function can only be used with numeric values.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'max()' function returns the largest item in an iterable or the largest of two or more arguments.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'min()' function returns the smallest item in an iterable or the smallest of two or more arguments.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'round()' function rounds a number to a specified number of decimal places.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'abs()' function returns the absolute value of a number.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'pow()' function raises a number to a specified power.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'divmod()' function returns a tuple containing the quotient and remainder of a division.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'bin()' function converts an integer to a binary string.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'hex()' function converts an integer to a hexadecimal string.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'oct()' function converts an integer to an octal string.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'ord()' function returns the Unicode code point for a given character.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'chr()' function returns the character for a given Unicode code point.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'frozenset()' function returns an immutable version of a set.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'globals()' function returns a dictionary of the current global symbol table.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'locals()' function returns a dictionary of the current local symbol table.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'exec()' function executes dynamically created Python code.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'eval()' function evaluates a Python expression and returns the result.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'compile()' function compiles source code into a code or AST object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'property()' function creates a property attribute that provides getter, setter, and deleter methods.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'staticmethod()' decorator creates a static method that doesn't receive an implicit first argument.",
            "correct_answer": "True"
        },
        {
            "question": "Python's 'classmethod()' decorator creates a class method that receives the class as the first argument.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__init__' method is called when an object is created from a class.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__str__' method returns a string representation of an object for end users.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__repr__' method returns a string representation of an object for developers.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__len__' method returns the length of an object.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__call__' method allows an object to be called like a function.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__getitem__' method allows an object to use the square bracket notation.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__setitem__' method allows an object to use the square bracket notation for assignment.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__delitem__' method allows an object to use the 'del' statement with square bracket notation.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__iter__' method returns an iterator for an object.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__next__' method returns the next item from an iterator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__enter__' and '__exit__' methods are used for context management protocol.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__add__' method allows an object to use the '+' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__sub__' method allows an object to use the '-' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__mul__' method allows an object to use the '*' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__truediv__' method allows an object to use the '/' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__floordiv__' method allows an object to use the '//' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__mod__' method allows an object to use the '%' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__pow__' method allows an object to use the '**' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__eq__' method allows an object to use the '==' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__ne__' method allows an object to use the '!=' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__lt__' method allows an object to use the '<' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__le__' method allows an object to use the '<=' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the '__gt__' method allows an object to use the '>' operator.",
            "correct_answer": "True"
        },
        {
            "question": "Python's '__ge__' method allows an object to use the '>=' operator.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, you can directly access private variables of a class from outside the class.",
            "correct_answer": "False"
        },
        {
            "question": "Python's list methods like append() and extend() return the modified list.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'switch' statement for multiple conditional branches.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'is' operator always returns the same result as the '==' operator.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'this' keyword to refer to the current instance of a class.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'for' loops can iterate over any object that implements the __next__() method.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, all functions must have a return statement.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'import' statement can only be used at the beginning of a file.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'var' keyword to declare variables.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'list' and 'tuple' data types are both mutable.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'new' keyword to create instances of a class.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'dict' data type is ordered in all versions of Python.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'public', 'private', and 'protected' keywords to define access modifiers.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'int' data type has a maximum value limitation.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'final' keyword to prevent a variable from being reassigned.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'str' data type is mutable.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'interface' keyword to define interfaces.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'set' data type maintains the order of elements as they are inserted.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'static' keyword to define static methods.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'list' data type can only contain elements of the same type.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'abstract' keyword to define abstract classes.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'dict' data type can use mutable objects as keys.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'void' keyword to define functions that don't return a value.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'float' data type has infinite precision.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'implements' keyword to implement interfaces.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'list' data type is implemented as a linked list.",
            "correct_answer": "False"
        },
        {
            "question": "In Python, you can use the 'function' keyword to define functions.",
            "correct_answer": "False"
        },
        {
            "question": "Python's 'for' loops can have an 'else' clause that executes when the loop completes normally.",
            "correct_answer": "True"
        },
        {
            "question": "In Python, the 'return' statement can only return one value.",
            "correct_answer": "False"
        }
    ],
    "Movies and TV Shows": [
        {
            "question": "The TV show 'Breaking Bad' is set in New Mexico.",
            "correct_answer": "True"
        },
        {
            "question": "The movie 'Titanic' was released in 1997.",
            "correct_answer": "True"
        },
        {
            "question": "In the movie 'The Matrix', the main character's name is Thomas Anderson.",
            "correct_answer": "True"
        },
        {
            "question": "The TV show 'Friends' ran for 8 seasons.",
            "correct_answer": "False"
        },
        {
            "question": "The movie 'Jurassic Park' was directed by Steven Spielberg.",
            "correct_answer": "True"
        },
        {
            "question": "In the TV show 'Game of Thrones', Winterfell is the home of House Lannister.",
            "correct_answer": "False"
        }
    ],
    "History": [
        {
            "question": "The Great Wall of China was built to fend off Viking invaders.",
            "correct_answer": "False"
        },
        {
            "question": "Napoleon Bonaparte was a prominent general during the French Revolution.",
            "correct_answer": "True"
        },
        {
            "question": "The Aztecs were a civilization that lived in what is now Mexico.",
            "correct_answer": "True"
        },
        {
            "question": "The first modern Olympic Games were held in Greece in 1896.",
            "correct_answer": "True"
        },
        {
            "question": "The first person to fly solo across the Atlantic Ocean was Charles Lindbergh.",
            "correct_answer": "True"
        },
        {
            "question": "The Wright brothers were the first people to fly a plane.",
            "correct_answer": "True"
        }
    ],
    "Geography": [
        {
            "question": "Mount Everest is located in the Alps.",
            "correct_answer": "False"
        },
        {
            "question": "The capital of Canada is Toronto.",
            "correct_answer": "False"
        },
        {
            "question": "The Nile is the longest river in the world.",
            "correct_answer": "True"
        },
        {
            "question": "The Amazon rainforest is located in Africa.",
            "correct_answer": "False"
        },
        {
            "question": "The Great Barrier Reef is off the coast of Florida.",
            "correct_answer": "False"
        },
        {
            "question": "Vatican City is the smallest country by land area.",
            "correct_answer": "True"
        },
        {
            "question": "Tokyo is the capital of South Korea.",
            "correct_answer": "False"
        },
        {
            "question": "The Sahara Desert is the largest hot desert in the world.",
            "correct_answer": "True"
        }
    ],
    "Pop Culture": [
        {
            "question": "Beyoncé was a member of the group Destiny's Child.",
            "correct_answer": "True"
        },
        {
            "question": "The Beatles were formed in Manchester.",
            "correct_answer": "False"
        },
        {
            "question": "'Despacito' is a hit song by Ed Sheeran.",
            "correct_answer": "False"
        },
        {
            "question": "Lady Gaga's real name is Stefani Joanne Angelina Germanotta.",
            "correct_answer": "True"
        },
        {
            "question": "Ariana Grande began her career on the TV show 'Victorious'.",
            "correct_answer": "True"
        },
        {
            "question": "The TV show 'Keeping Up with the Kardashians' began airing in 2010.",
            "correct_answer": "False"
        },
        {
            "question": "Rihanna is originally from Barbados.",
            "correct_answer": "True"
        }
    ],
    "Sports": [
        {
            "question": "The Olympic Games are held every 4 years.",
            "correct_answer": "True"
        },
        {
            "question": "In soccer, a standard game consists of two 45-minute halves.",
            "correct_answer": "True"
        },
        {
            "question": "The Super Bowl is the championship game of the National Football League (NFL).",
            "correct_answer": "True"
        },
        {
            "question": "Tennis is played with a racket and a shuttlecock.",
            "correct_answer": "False"
        },
        {
            "question": "Michael Jordan played for the Chicago Bulls.",
            "correct_answer": "True"
        },
        {
            "question": "The Tour de France is a swimming competition.",
            "correct_answer": "False"
        }
    ],
    "Science": [
        {
            "question": "The chemical symbol for gold is Au.",
            "correct_answer": "True"
        },
        {
            "question": "The most abundant gas in Earth's atmosphere is oxygen.",
            "correct_answer": "False"
        },
        {
            "question": "Proteins are made up of amino acids.",
            "correct_answer": "True"
        },
        {
            "question": "The planet Venus has no moons.",
            "correct_answer": "True"
        },
        {
            "question": "A neutron has a positive charge.",
            "correct_answer": "False"
        },
        {
            "question": "The process by which plants make their own food using sunlight is called photosynthesis.",
            "correct_answer": "True"
        },
        {
            "question": "The smallest bone in the human body is the femur.",
            "correct_answer": "False"
        },
        {
            "question": "The chemical symbol for water is H2O.",
            "correct_answer": "True"
        },
        {
            "question": "The common cold is caused by a bacteria.",
            "correct_answer": "False"
        },
        {
            "question": "A pH level below 7 is alkaline.",
            "correct_answer": "False"
        },
        {
            "question": "Photosynthesis primarily occurs in the roots of plants.",
            "correct_answer": "False"
        },
        {
            "question": "A tsunami is a giant sea spider.",
            "correct_answer": "False"
        },
        {
            "question": "The main gas responsible for global warming is carbon dioxide.",
            "correct_answer": "True"
        },
        {
            "question": "LED stands for 'Light Emitting Diode'.",
            "correct_answer": "True"
        }
    ],
    "Math": [
        {
            "question": "The square root of 144 is 12.",
            "correct_answer": "True"
        },
        {
            "question": "In Roman numerals, X represents the number 5.",
            "correct_answer": "False"
        },
        {
            "question": "The number 0 is considered an even number.",
            "correct_answer": "True"
        },
        {
            "question": "Pi (π) can be accurately represented as a fraction.",
            "correct_answer": "False"
        },
        {
            "question": "The sum of the angles of a triangle always equals 180 degrees.",
            "correct_answer": "True"
        },
        {
            "question": "The number 'one billion' has 9 zeros.",
            "correct_answer": "True"
        },
        {
            "question": "A heptagon has 8 sides.",
            "correct_answer": "False"
        },
        {
            "question": "The factorial of 0 is 1.",
            "correct_answer": "True"
        }
    ]
};

// Default leaderboard data
const defaultLeaderboard = {
    "scores": [
        {
            "name": "Andrew",
            "score": 24,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 23,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 19,
            "category": "Python"
        },
        {
            "name": "Anonymous",
            "score": 18,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 18,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 17,
            "category": "Python"
        },
        {
            "name": "Anonymous",
            "score": 16,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 16,
            "category": "Python"
        },
        {
            "name": "Andrew",
            "score": 15,
            "category": "Random"
        }
    ]
};

// Helper functions for leaderboard
function getLeaderboard() {
    const storedLeaderboard = localStorage.getItem('quizBrainLeaderboard');
    if (storedLeaderboard) {
        return JSON.parse(storedLeaderboard);
    } else {
        // Initialize with default data
        localStorage.setItem('quizBrainLeaderboard', JSON.stringify(defaultLeaderboard));
        return defaultLeaderboard;
    }
}

function updateLeaderboard(name, score, category) {
    if (name === "Anonymous") {
        return;
    }

    const leaderboard = getLeaderboard();
    leaderboard.scores.push({
        name: name,
        score: score,
        category: category
    });

    // Sort scores in descending order
    leaderboard.scores.sort((a, b) => b.score - a.score);

    // Trim to top 30 scores
    leaderboard.scores = leaderboard.scores.slice(0, 30);

    // Save back to localStorage
    localStorage.setItem('quizBrainLeaderboard', JSON.stringify(leaderboard));
}

// Helper function to get random questions
function getRandomQuestions(category, askedQuestions = [], numQuestions = 5) {
    let questionPool = [];
    let resetTracking = false;

    if (category === "Random") {
        // Combine all categories
        Object.values(allQuestions).forEach(categoryQuestions => {
            questionPool = questionPool.concat(categoryQuestions);
        });
    } else {
        questionPool = allQuestions[category] || [];
    }

    // Filter out already asked questions
    let filteredPool = questionPool.filter(q => !askedQuestions.includes(q.question));

    // If we've asked all questions in this category, reset tracking and use all questions
    if (filteredPool.length === 0 && questionPool.length > 0) {
        console.log("All questions in this category have been asked. Reusing questions.");
        filteredPool = questionPool;
        resetTracking = true;
    }

    // Shuffle the questions
    filteredPool.sort(() => Math.random() - 0.5);

    // Return the requested number of questions and reset flag
    return {
        questions: filteredPool.slice(0, numQuestions),
        resetTracking: resetTracking
    };
}
